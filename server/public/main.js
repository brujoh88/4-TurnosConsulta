(()=>{var e,t=document.getElementById("header-titulo"),a=document.getElementById("form-container"),o=document.getElementById("opcion-ingreso"),s=document.getElementById("valorEscuadra"),n=document.getElementById("valorLegajo"),c=document.getElementById("value-pass"),r=document.getElementById("botonLegajo"),l=document.getElementById("page-1"),d=document.getElementById("to-page2"),i=document.getElementById("to-page3"),u=document.getElementById("to-page1"),m=document.getElementById("page-2"),L=document.getElementById("query-button"),v=document.getElementById("form-container-query"),y=document.getElementById("loader"),g=document.getElementById("value-mes-year"),b=document.getElementById("value-year"),f=document.getElementById("opciones"),p=document.getElementById("page-3"),h=document.getElementById("page-4"),E=document.getElementById("nueva-consulta"),T=!1,j=["vacio","üò≠","üò´","üòì","üòí","üòå","üòÅüéâ"],M=["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],I=["Dom","Lun","Mar","Mie","Jue","Vie","Sab"];window.onload=function(){var a,o=localStorage.getItem("token");if(o){var s=(a=o.split(".")[1].replace("-","+").replace("_","/"),JSON.parse(window.atob(a)));e={error:"",body:s},t.classList.add("ocultar"),l.classList.add("ocultar"),m.classList.remove("ocultar"),d.classList.remove("ocultar"),i.classList.remove("marcador-seccion"),d.classList.add("marcador-seccion"),i.classList.remove("ocultar"),u.classList.remove("ocultar");var n={error:"",body:{legajo:s.legajo,name:s.name,turno:s.turno}};w[0].classList.remove("ocultar"),S(n)}else l.classList.remove("ocultar"),w[0].classList.add("ocultar")};var w=document.getElementsByClassName("name-user"),D=document.getElementById("print-fecha"),k=document.getElementsByClassName("day-in-work"),A=document.getElementsByClassName("tabla"),B=function(t,a){var o=e.body.turno,s=t.body.listAllTurnos.listAllDaysOnMes.length,n=new Date(t.body.listAllTurnos.listAllDaysOnMes[1]),c=n.getMonth(),r=n.getFullYear();c=M[c],A[a].insertAdjacentHTML("beforeend",'\n  <tr class="text-tabla">  \n    <td colspan = "6" class="titulo-mes">'.concat(c," - ").concat(r,'</td>    \n  </tr>\n  <tr class="text-tabla">\n    <td class=" perseguir">D√≠a</td>    \n    <td class=" perseguir">Fecha</td>\n    <td class=" perseguir">Ma√±ana</td>\n    <td class=" perseguir">Tarde</td>\n    <td class=" perseguir">Noche</td>\n    <td class=" perseguir">Franco</td>\n  </tr>'));for(var l=!1,d=0;d<s;d++){var i=new Date(t.body.listAllTurnos.listAllDaysOnMes[d]);nameDay=I[i.getUTCDay()];var u=new Date(t.body.listAllTurnos.listAllDaysOnMes[d]),m=u.getDate(),L=u.getMonth(),v=u.getFullYear(),y=t.body.listAllTurnos.maniana[d],g=t.body.listAllTurnos.tarde[d],b=t.body.listAllTurnos.noche[d],f=t.body.listAllTurnos.franco[d],p=void 0,h=(new Date(t.body.date)-i)/1e3/60/60/24;switch(h=parseInt(h,10),o){case y:0===h&&0==l&&(p="resaltar-hoy",l=!0),A[a].insertAdjacentHTML("beforeend",'<tr class="text-tabla '.concat(p,'">\n            <td>\n                ').concat(nameDay,"\n            </td>\n            <td>\n                ").concat(m,"/").concat(L+1,"/").concat(v,'\n            </td>\n            <td class="resaltar-turno">\n                ').concat(y,"\n            </td>\n            <td>\n                ").concat(g,"\n            </td>\n            <td>\n                ").concat(b,"\n            </td>\n            <td>\n                ").concat(f,"\n            </td>\n        </tr>"));break;case g:0===h&&0==l&&(p="resaltar-hoy",l=!0),A[a].insertAdjacentHTML("beforeend",'<tr class="text-tabla '.concat(p,'">\n            <td>\n                ').concat(nameDay,"\n            </td>\n            <td>\n                ").concat(m,"/").concat(L+1,"/").concat(v,"\n            </td>\n            <td>\n                ").concat(y,'\n            </td>\n            <td class="resaltar-turno">\n                ').concat(g,"\n            </td>\n            <td>\n                ").concat(b,"\n            </td>\n            <td>\n                ").concat(f,"\n            </td>\n        </tr>"));break;case b:0===h&&0==l&&(p="resaltar-hoy",l=!0),A[a].insertAdjacentHTML("beforeend",'<tr class="text-tabla '.concat(p,'">\n            <td>\n                ').concat(nameDay,"\n            </td>\n            <td>\n                ").concat(m,"/").concat(L+1,"/").concat(v,"\n            </td>\n            <td>\n                ").concat(y,"\n            </td>\n            <td>\n                ").concat(g,'\n            </td>\n            <td class="resaltar-turno">\n                ').concat(b,"\n            </td>\n            <td>\n                ").concat(f,"\n            </td>\n        </tr>"));break;case f:0===h&&0==l&&(p="resaltar-hoy",l=!0),A[a].insertAdjacentHTML("beforeend",'<tr class="text-tabla '.concat(p,'">\n            <td>\n                ').concat(nameDay,"\n            </td>\n            <td>\n                ").concat(m,"/").concat(L+1,"/").concat(v,"\n            </td>\n            <td>\n                ").concat(y,"\n            </td>\n            <td>\n                ").concat(g,"\n            </td>\n            <td>\n                ").concat(b,'\n            </td>\n            <td class="resaltar-turno">\n                ').concat(f,"\n            </td>\n        </tr>"))}}};o.addEventListener("change",(function(){var e=o.value;"legajo-password"==e?(a.classList.remove("ocultar"),s.classList.add("ocultar"),s.classList.remove("resaltar-opcion"),s.value="",valorLegajo.classList.remove("ocultar"),valorLegajo.classList.add("resaltar-opcion"),c.classList.remove("ocultar"),c.classList.add("resaltar-opcion")):"escuadra"==e?(a.classList.remove("ocultar"),valorLegajo.classList.add("ocultar"),valorLegajo.value="",s.classList.remove("ocultar"),s.classList.add("resaltar-opcion"),valorLegajo.classList.remove("resaltar-opcion"),c.classList.add("ocultar"),c.classList.remove("resaltar-opcion")):(a.classList.add("ocultar"),valorLegajo.classList.add("ocultar"),valorLegajo.classList.remove("resaltar-opcion"),valorLegajo.value="",s.classList.remove("resaltar-opcion"),s.classList.add("ocultar"),s.value="",c.classList.remove("resaltar-opcion"),c.classList.add("ocultar"))})),r.addEventListener("click",(function(){"legajo-password"==o.value?F():"escuadra"==o.value&&Y()}));var O=window.location.origin,S=function(e){var t=e.body.name,a=e.body.legajo,o=e.body.turno;w[0].innerHTML="",w[1].innerHTML="",w[0].insertAdjacentHTML("beforeend","".concat(t," - ").concat(a)),w[1].insertAdjacentHTML("beforeend",t),fetch("".concat(O,"/getDate"),{headers:{"Content-Type":"application/json"},method:"POST",body:JSON.stringify({mes:(new Date).getMonth(),anio:(new Date).getFullYear(),turno:o})}).then((function(e){return e.json()})).then((function(e){H(e)}))},H=function(e){comoTrabajo=e.body.inDayWork.turno;var t=new Date(e.body.date);day=t.getDate(),mes=t.getMonth(),mes=M[mes],D.innerHTML="",D.insertAdjacentHTML("beforeend","".concat(day," de ").concat(mes)),diasParaFranco=e.body.inDayWork.diaEnTurno,k[0].innerHTML="",k[1].innerHTML="",k[0].insertAdjacentHTML("beforeend","".concat(comoTrabajo)),k[1].insertAdjacentHTML("beforeend","".concat(6-diasParaFranco," ").concat(j[diasParaFranco])),A[0].innerHTML="",B(e,0)};d.addEventListener("click",(function(){i.classList.remove("marcador-seccion"),d.classList.add("marcador-seccion"),m.classList.add("bounceInLeft"),l.classList.add("ocultar"),m.classList.remove("ocultar"),p.classList.add("ocultar"),h.classList.add("ocultar")})),i.addEventListener("click",(function(){1==T?(h.classList.add("bounceInRight"),J()):(p.classList.add("bounceInRight"),d.classList.remove("marcador-seccion"),i.classList.add("marcador-seccion"),l.classList.add("ocultar"),m.classList.add("ocultar"),p.classList.remove("ocultar"),h.classList.add("ocultar"))})),E.addEventListener("click",(function(){swal({title:"Seguro que desea hacer una nueva consulta?",dangerMode:!0,buttons:!0}).then((function(e){e&&(T=!1,p.classList.remove("ocultar"),h.classList.add("ocultar"),v.classList.remove("ocultar"),y.classList.remove("lds-spinner"))}))})),u.addEventListener("click",(function(){swal({title:"Seguro que desea salir?",dangerMode:!0,buttons:!0}).then((function(e){e&&(localStorage.clear(),swal("Cerrado exitosamente",{icon:"success"}).then((function(e){e&&(m.classList.remove("bounceInLeft"),p.classList.remove("bounceInRight"),m.classList.add("bounceOut"),p.classList.add("bounceOut"),h.classList.add("bounceOut"),i.classList.remove("marcador-seccion"),setTimeout(P,1e3))})))}))})),g.addEventListener("keyup",(function(e){"Enter"==e.key&&C()})),L.addEventListener("click",(function(){C()})),b.addEventListener("keyup",(function(e){"Enter"==e.key&&C()}));var C=function(){v.classList.remove("ocultar"),"mes"==f.value&&(valorMesYear=g.value,""==valorMesYear?swal("Faltan datos","Complete con el mes deseado","info"):(fecha=valorMesYear+"-1",fecha=new Date(fecha),fetch("".concat(O,"/getDate"),{headers:{"Content-Type":"application/json"},method:"POST",body:JSON.stringify({mes:fecha.getMonth(),anio:fecha.getFullYear(),turno:e.body.turno})}).then((function(e){return e.json()})).then((function(e){A[1].innerHTML="",v.classList.add("ocultar"),y.classList.add("lds-spinner"),setTimeout(J,2e3),B(e,1)})))),"anio"==f.value&&(valorYear=b.value,""==valorYear?swal("Faltan datos","Complete con el a√±o deseado","info"):valorYear>2100||valorYear<2e3?swal("A√±os validos","Min 2000 Max 2100 ","error"):fetch("".concat(O,"/getDate"),{headers:{"Content-Type":"application/json"},method:"POST",body:JSON.stringify({mes:"anioCompleto",anio:valorYear,turno:e.body.turno})}).then((function(e){return e.json()})).then((function(e){v.classList.add("ocultar"),y.classList.add("lds-spinner"),setTimeout(J,2e3),function(e,t){A[1].innerHTML="";var a={body:e.body[0]},o={body:e.body[1]},s={body:e.body[2]},n={body:e.body[3]},c={body:e.body[4]},r={body:e.body[5]},l={body:e.body[6]},d={body:e.body[7]},i={body:e.body[8]},u={body:e.body[9]},m={body:e.body[10]},L={body:e.body[11]};B(a,1),B(o,1),B(s,1),B(n,1),B(c,1),B(r,1),B(l,1),B(d,1),B(i,1),B(u,1),B(m,1),B(L,1)}(e)}))),""==f.value&&swal("Elija una opcion","Mes o A√±o","warning")};f.addEventListener("change",(function(){var e=f.value;"mes"==e?(b.classList.add("ocultar"),b.value="",g.classList.remove("ocultar"),g.classList.add("resaltar-opcion"),b.classList.remove("resaltar-opcion")):"anio"==e?(g.classList.add("ocultar"),g.value="",b.classList.remove("ocultar"),b.classList.add("resaltar-opcion"),g.classList.remove("resaltar-opcion")):(g.classList.add("ocultar"),g.classList.remove("resaltar-opcion"),g.value="",b.classList.remove("resaltar-opcion"),b.classList.add("ocultar"),b.value="")})),n.addEventListener("keyup",(function(e){"Enter"==e.key&&F()})),c.addEventListener("keyup",(function(e){"Enter"==e.key&&F()}));var F=function(){""===n.value||""===c.value?swal("Datos incompletos","Se requiere legajo y contrase√±aüò¨","warning"):fetch("".concat(O,"/login"),{headers:{"Content-Type":"application/json"},method:"POST",body:JSON.stringify({legajo:n.value,password:c.value})}).then((function(e){return e.json()})).then((function(t){t.body.name?(o.classList.add("ocultar"),a.classList.add("slide-rotate-hor-t-bck"),setTimeout(N,400),e=t,localStorage.setItem("token",e.body.token),S(e)):swal("Datos incorrectos","üòü","error")})).catch((function(e){return console.log(e)}))},Y=function(){""===s.value?swal("Datos incompletos","Elegir A - B - C - Düò¨","warning"):fetch("".concat(O,"/login"),{headers:{"Content-Type":"application/json"},method:"POST",body:JSON.stringify({legajo:s.value,password:"noPass"})}).then((function(e){return e.json()})).then((function(t){t.body.name?(o.classList.add("ocultar"),a.classList.add("slide-rotate-hor-t-bck"),setTimeout(N,400),e=t,localStorage.setItem("token",e.body.token),S(e)):swal("Datos incorrectos","üòü","error")})).catch((function(e){return console.log(e)}))},N=function(){t.classList.add("ocultar"),l.classList.add("ocultar"),m.classList.remove("ocultar"),m.classList.add("bounceInUp"),d.classList.remove("ocultar"),d.classList.add("marcador-seccion"),i.classList.remove("ocultar"),u.classList.remove("ocultar"),d.classList.add("zoomInLeft"),i.classList.add("zoomInDown"),u.classList.add("zoomInRight"),w[0].classList.remove("ocultar")},J=function(){T=!0,d.classList.remove("marcador-seccion"),i.classList.add("marcador-seccion"),m.classList.add("ocultar"),p.classList.add("ocultar"),v.classList.remove("ocultar"),y.classList.remove("lds-spinner"),h.classList.remove("ocultar")},P=function(){m.classList.remove("bounceOut"),p.classList.remove("bounceOut"),h.classList.remove("bounceOut"),t.classList.remove("ocultar"),l.classList.remove("ocultar"),o.classList.remove("ocultar"),a.classList.remove("slide-rotate-hor-t-bck"),m.classList.add("ocultar"),p.classList.add("ocultar"),h.classList.add("ocultar"),w[0].classList.add("ocultar"),d.classList.add("ocultar"),i.classList.add("ocultar"),u.classList.add("ocultar"),d.classList.remove("zoomInLeft"),i.classList.remove("zoomInDown"),u.classList.remove("zoomInRight"),m.classList.remove("bounceInUp"),n.value="",c.value=""}})();